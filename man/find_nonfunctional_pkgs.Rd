% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/find_nonfunctional_pkgs.R
\name{find_nonfunctional_pkgs}
\alias{find_nonfunctional_pkgs}
\title{Find nonfunctional packages}
\usage{
find_nonfunctional_pkgs(
  pkgs,
  lib = .libPaths(),
  quietly = FALSE,
  verbose = FALSE
)
}
\arguments{
\item{pkgs}{A character vector, or list of character vectors, of package
names to be checked. Names of packages from \href{https://github.com/}{GitHub}
can be in the format \code{username/repository} or \code{repository}.}

\item{lib}{Character vector giving the \link[=.libPaths]{paths} where the
packages of \code{pkgs} are installed.}

\item{quietly}{\code{TRUE} or \code{FALSE}: suppress printing the reason why packages
are not functioning?}

\item{verbose}{\code{TRUE} or \code{FALSE}: print other warnings issued when packages
are loaded?}
}
\value{
A character vector containing the sorted names of non-functional packages in
\code{pkgs}, \code{character(0)} if all packages in \code{pkgs} are functional, returned
\link[=invisible]{invisibly}.
}
\description{
Function to check for non-functional packages.
}
\section{Side effects}{

Packages are \link[=loadNamespace]{loaded}, such that \link[=update.packages]{updating}
packages might fail if they are not unloaded first. Restart \R before
continuing to prevent this.
}

\section{Notes}{

This function uses \code{\link[=requireNamespace]{requireNamespace()}} instead of \code{\link[=installed.packages]{installed.packages()}},
because \code{installed.packages()} does not check if packages are functional, nor
if all needed \link[=list_dependencies]{dependencies} are installed and
functional. In addition, \code{installed.packages()} can be slow such that its
\link[=installed.packages]{help page} states that \code{\link[=requireNamespace]{requireNamespace()}} or
\code{\link[=require]{require()}} should be used instead.
}

\section{To do}{

Replace calls to \code{\link[=sapply]{sapply()}} with calls to \code{\link[=vapply]{vapply()}}.

\code{pkgs <- sub(pattern = ".*/", replacement = "", x = pkgs)} can be replaced by
\code{pkgs <- basename(pkgs)}?

When testing if packages are functioning correctly, differentiate between
missing and non-functioning packages: if package \verb{<pkgname>} does not exist,
the error \verb{There is no package called '<pkgname>'} is thrown if \code{quietly} is
\code{FALSE} (but \emph{not} if \code{quietly} is \code{TRUE}).
}

\examples{
find_nonfunctional_pkgs(pkgs = c("base", "tools"), lib = .libPaths(),
                        quietly = FALSE, verbose = FALSE)
find_nonfunctional_pkgs("abcdef", quietly = FALSE)
find_nonfunctional_pkgs("abcdef", quietly = TRUE)

}
\seealso{
Other get information about packages: 
\code{\link{get_details_pkgs}()}
}
\concept{get information about packages}
