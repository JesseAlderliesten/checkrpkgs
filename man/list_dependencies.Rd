% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/list_dependencies.R
\name{list_dependencies}
\alias{list_dependencies}
\title{List package dependencies}
\usage{
list_dependencies(
  pkgs,
  deps_type = "strong",
  recursive = TRUE,
  name_per_pkg = FALSE,
  number_per_pkg = TRUE,
  name_total = TRUE,
  add_pkgs_to_total = FALSE,
  exclude_high_prio = FALSE,
  exclude_pkgs = NULL,
  sort_ndeps_by = c("ndeps", "names")
)
}
\arguments{
\item{pkgs}{Character vector of package names. Names of packages from
\href{https://github.com/}{GitHub} can be in the format \code{username/repository} or
only the \code{repository} name.}

\item{deps_type}{Character vector indicating the type of dependencies, used
as argument \code{which} of \link[tools:package_dependencies]{tools::package_dependencies}.}

\item{recursive}{\code{TRUE} or \code{FALSE}: include recursive dependencies?}

\item{name_per_pkg}{\code{TRUE} or \code{FALSE}: give the names of dependencies
separately for each package in \code{pkgs}?}

\item{number_per_pkg}{\code{TRUE} or \code{FALSE}: give the number of dependencies
separately for each package in \code{pkgs}?}

\item{name_total}{\code{TRUE} or \code{FALSE}: give the names of the total set of
dependencies?}

\item{add_pkgs_to_total}{\code{TRUE} or \code{FALSE}: add names of the packages for
which the dependencies are requested themselves to the list and number of
total dependencies?}

\item{exclude_high_prio}{\code{TRUE} or \code{FALSE}: exclude high priority packages
from the total counts and names of dependencies?}

\item{exclude_pkgs}{\code{NULL} or a character vector with package names to be
omitted from the listed dependencies. Note that dependencies of those
packages will \emph{not} be omitted.}

\item{sort_ndeps_by}{Character vector indicating if the number of
dependencies per package should be sorted on package names (\code{"names"}) or on
their number of dependencies (\code{"ndeps"}). The other elements of the returned
list are are sorted on package names irrespective of the value of this
argument.}
}
\value{
A list with for each package in \code{pkgs} the names and number of dependencies,
the names and number of all dependencies, and the number of unique packages
supplied in the arguments \code{exclude_pkgs} and \code{exclude_high_prio}. Note that
the latter does \emph{not} indicate the number of packages that were actually
excluded.
}
\description{
Function to list package dependencies and the number of dependencies.
Information about dependencies for non-CRAN packages is currently \emph{not}
correctly handled.
}
\section{To do}{

Information about dependencies for packages from non-CRAN repositories (e.g.,
Bioconductor, GitHub) is currently \emph{not} correctly handled. According to
\code{tools::package_dependencies()}, \code{NULL} is given as dependency if a package
is not found in the database, whereas \code{character(0)} indicates the package
does not have any dependencies. However, this distinction seems not to be
retained by \code{list_dependencies()}. A warning is issued if the number of
dependencies has zero length to indicate this. Can that be adressed by using
\code{\link[utils:packageDescription]{utils::packageDescription()}} or \code{\link[utils:installed.packages]{utils::installed.packages()}}?

See https://pak.r-lib.org/reference/pkg_deps_explain.html which gives
details about which function creates the dependency;
https://github.com/yihui/xfun/blob/main/R/revcheck.R; \code{pkg_depend()} at
https://github.com/psychbruce/bruceR/blob/main/R/bruceR_utils.R, and
https://github.com/jokergoo/pkgndep for other implementations.

\code{\link[tools:package_dependencies]{tools::package_dependencies()}} requires internet access? Rewrite to use info
from local package versions instead? See also \code{tools:url()},
\code{datacleanr::can_internet()}, https://r-pkgs.org/testing-advanced.html#mocking,
and \code{\link[BiocManager:valid]{BiocManager::valid()}} which returns an empty list if internet access is
unavailable.

Currently, \code{length_excl} gives the total number of excluded packages. Add
\code{n_excl} with  the number of excluded packages that are reverse dependencies
of \code{pkgs}?

Also list the number of system requirements? \code{SystemRequirements} is a messy
column that makes it difficult to convert csv-files to a neat table, see
the code of \code{\link[=get_details_pkgs]{get_details_pkgs()}} and of \code{count_syst_req()} in
\code{checkrpkgs_knip::count_syst_req.R}.
}

\section{Programming notes}{

\code{\link[=loadedNamespaces]{loadedNamespaces()}} can be used to see which packages are loaded.

For reverse dependencies, see \code{\link[tools:dependsOnPkgs]{tools::dependsOnPkgs()}}.
}

\seealso{
\code{tools::standard_package_names()} (present since \R 4.4.0) for a list with
the names of the base and recommended packages.

The vignette \emph{Instructions about R packages}:
\code{vignette("r_pkgs", package = "checkrpkgs")}.

Other functions to get information about packages: 
\code{\link{find_nonfunc_pkgs}()},
\code{\link{get_details_pkgs}()}
}
\concept{functions to get information about packages}
